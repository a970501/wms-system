<!-- pages/change-password/change-password.wxml -->
<view class="container">
  <!-- 页面标题 -->
  <view class="header">
    <text class="header-title">修改密码</text>
    <text class="header-desc">为了账号安全，请定期修改密码</text>
  </view>

  <!-- 表单区域 -->
  <view class="form-section">
    <!-- 旧密码 -->
    <view class="input-group">
      <view class="input-label">旧密码</view>
      <view class="input-wrapper">
        <input 
          class="input" 
          type="text" 
          password="{{!showOldPassword}}"
          placeholder="请输入旧密码" 
          value="{{oldPassword}}" 
          bindinput="onOldPasswordInput"
        />
        <view class="eye-icon" bindtap="toggleOldPassword">
          <text>{{showOldPassword ? '🙈' : '👁'}}</text>
        </view>
      </view>
    </view>

    <!-- 新密码 -->
    <view class="input-group">
      <view class="input-label">新密码</view>
      <view class="input-wrapper">
        <input 
          class="input" 
          type="text" 
          password="{{!showNewPassword}}"
          placeholder="请输入新密码（至少6位）" 
          value="{{newPassword}}" 
          bindinput="onNewPasswordInput"
        />
        <view class="eye-icon" bindtap="toggleNewPassword">
          <text>{{showNewPassword ? '🙈' : '👁'}}</text>
        </view>
      </view>
      <view class="input-hint">密码长度至少6位，避免使用简单密码</view>
    </view>

    <!-- 确认新密码 -->
    <view class="input-group">
      <view class="input-label">确认新密码</view>
      <view class="input-wrapper">
        <input 
          class="input" 
          type="text" 
          password="{{!showConfirmPassword}}"
          placeholder="请再次输入新密码" 
          value="{{confirmPassword}}" 
          bindinput="onConfirmPasswordInput"
        />
        <view class="eye-icon" bindtap="toggleConfirmPassword">
          <text>{{showConfirmPassword ? '🙈' : '👁'}}</text>
        </view>
      </view>
    </view>
  </view>

  <!-- 提交按钮 -->
  <button 
    class="submit-btn" 
    bindtap="handleSubmit" 
    loading="{{loading}}"
    disabled="{{loading}}"
  >
    {{loading ? '提交中...' : '确认修改'}}
  </button>

  <!-- 安全提示 -->
  <view class="tips-section">
    <view class="tips-title">安全提示</view>
    <view class="tips-item">• 请勿使用与其他网站相同的密码</view>
    <view class="tips-item">• 密码修改成功后需要重新登录</view>
    <view class="tips-item">• 如忘记密码请联系管理员重置</view>
  </view>
</view>

